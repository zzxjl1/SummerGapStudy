(function(){"use strict";var __webpack_modules__={8637:function(e,t,n){var i=n(9242),s=n(3396),a=n(7139),l=n.p+"img/notebook.17e4521e.svg",o=n.p+"img/search.cebd93e1.svg",r="data:image/png;base64,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",c=n.p+"img/web.18779cbc.svg",d=n.p+"img/person.308b1466.svg";const u=(0,s._)("div",{class:"tab-frame"},[(0,s._)("img",{src:l}),(0,s._)("span",null,"新闻")],-1),_=(0,s._)("div",{class:"tab-frame"},[(0,s._)("img",{src:o}),(0,s._)("span",null,"搜索")],-1),h={class:"tab-item"},g=(0,s._)("img",{style:{width:"45px",padding:"0"},src:r},null,-1),p=(0,s._)("span",null,"语音控制",-1),m=[g,p],w=(0,s._)("div",{class:"tab-frame"},[(0,s._)("img",{src:c}),(0,s._)("span",null,"工具箱")],-1),v=(0,s._)("div",{class:"tab-frame"},[(0,s._)("img",{src:d}),(0,s._)("span",null,"我的")],-1);function b(e,t,n,i,l,o){const r=(0,s.up)("router-link"),c=(0,s.up)("router-view");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s._)("nav",{id:"nav",class:(0,a.C_)({hidden:o.isHidden})},[(0,s.Wm)(r,{to:"/",class:"tab-item"},{default:(0,s.w5)((()=>[u])),_:1}),(0,s.Wm)(r,{to:"/search",class:"tab-item"},{default:(0,s.w5)((()=>[_])),_:1}),(0,s._)("a",h,[(0,s._)("div",{class:(0,a.C_)(["tab-frame",{changecolor:o.micServiceRunning}]),onclick:"JS.toggle_micService()"},m,2)]),(0,s.Wm)(r,{to:"/toolbox",class:"tab-item"},{default:(0,s.w5)((()=>[w])),_:1}),(0,s.Wm)(r,{to:"/about",class:"tab-item"},{default:(0,s.w5)((()=>[v])),_:1})],2),(0,s.Wm)(c,null,{default:(0,s.w5)((({Component:e})=>[((0,s.wg)(),(0,s.j4)(s.Ob,null,[((0,s.wg)(),(0,s.j4)((0,s.LL)(e)))],1024))])),_:1})],64)}var f=n(8874),k=n(6265),S=n.n(k);S().defaults.timeout=6e4,S().defaults.withCredentials=!0,S().defaults.headers.post["Content-Type"]="application/json;charset=UTF-8";try{S().defaults.baseURL=JS.get_httpBaseUrl()}catch(gn){S().defaults.baseURL="http://localhost:4000"}function y(e,t={}){return new Promise(((n,i)=>{S().get(e,{params:t}).then((e=>{n(e.data)})).catch((e=>{i(e)}))}))}const T=()=>y("/ping"),x=(e,t)=>y(`/news/${e}`,t),A=e=>y("/news/search",e),D=e=>y("/news/trending",e);var L={name:"navBar",data(){return{}},computed:{isHidden:{get(){return this.$store.state.navBarHidden}},micServiceRunning:{get(){return this.$store.state.micServiceRunning}}},methods:{...(0,f.nv)(["update_loginState","update_micServiceState"]),startcapture(){JS.startcapture()}},mounted(){this.update_loginState(),this.update_micServiceState(),T().then((e=>{console.log(e)})).catch((e=>{console.log(e)}))}},N=n(89);const H=(0,N.Z)(L,[["render",b]]);var I=H,B=n(678);const C={class:"home"};function R(e,t,n,i,a,l){const o=(0,s.up)("NewsView");return(0,s.wg)(),(0,s.iD)("div",C,[(0,s.Wm)(o)])}const O=e=>((0,s.dD)("data-v-0b187455"),e=e(),(0,s.Cn)(),e),M=O((()=>(0,s._)("span",{style:{width:"100%"}},"加载失败",-1))),U=[M],P={class:"pull-to-refresh"},z=(0,s.Uk)("到底了");function J(e,t,n,i,l,o){const r=(0,s.up)("swiper-slide"),c=(0,s.up)("swiper"),d=(0,s.up)("loading"),u=(0,s.up)("NewsItem"),_=(0,s.Q2)("touch");return(0,s.wg)(),(0,s.iD)(s.HY,null,[(0,s.Wm)(c,{id:"tab",class:"tab","slides-per-view":5,"free-mode":!0,onBeforeInit:i.barInit,modules:i.modules},{default:(0,s.w5)((()=>[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.tabItems,((e,t)=>((0,s.wg)(),(0,s.j4)(r,{key:t,class:(0,a.C_)(["tabItem",{active:t==l.selectedTabIndex}]),onClick:e=>o.onTabClick(t)},{default:(0,s.w5)((()=>[(0,s.Uk)((0,a.zw)(e),1)])),_:2},1032,["class","onClick"])))),128))])),_:1},8,["onBeforeInit","modules"]),(0,s.Wm)(c,{"slides-per-view":1,spaceBetween:0,onSlideChange:i.onTabSlideChange,onSliderMove:i.onScroll,onBeforeInit:i.tabInit,modules:i.modules},{default:(0,s.w5)((()=>[(0,s.Wm)(d,{active:l.isLoading,"can-cancel":!1,"is-full-page":!1,opacity:.5},null,8,["active","opacity"]),l.isError?((0,s.wg)(),(0,s.iD)("div",{key:0,class:"loading-overlay",onClick:t[0]||(t[0]=(...e)=>o.fetchNews&&o.fetchNews(...e))},U)):(0,s.kq)("",!0),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.tabItems,((t,n)=>((0,s.wg)(),(0,s.j4)(r,{key:n,class:"container"},{default:(0,s.w5)((()=>[(0,s.Wm)(c,{class:"swiper-fix","slides-per-view":2.5,direction:"vertical",spaceBetween:0,"auto-height":!0,scrollbar:{hide:!0},onSlideChange:i.onNewsSlideChange,onSliderMove:i.onScroll,onTouchMove:i.pullHandler,onTouchEnd:i.refreshHandler,modules:i.modules},{default:(0,s.w5)((()=>[(0,s._)("div",P,(0,a.zw)(l.pullToRefreshText),1),((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(l.newsArray[t]["data"],((t,n)=>((0,s.wg)(),(0,s.j4)(r,{key:n},{default:(0,s.w5)((()=>[(0,s.wy)((0,s.Wm)(u,{title:t.title,tags:t.tags,created_at:t.created_at,source:t.source,bk_img:t.background_img,click_count:t.click_count,like_count:t.like_count,comment_count:t.comment_count,onClick:n=>e.$utils.showNewsDetail(t.id)},null,8,["title","tags","created_at","source","bk_img","click_count","like_count","comment_count","onClick"]),[[_,o.longPressHandler(t.title),"longtap"]])])),_:2},1024)))),128)),l.newsArray[t]["isEnd"]?((0,s.wg)(),(0,s.j4)(r,{key:0,style:{background:"wheat"}},{default:(0,s.w5)((()=>[z])),_:1})):(0,s.kq)("",!0)])),_:2},1032,["slides-per-view","onSlideChange","onSliderMove","onTouchMove","onTouchEnd","modules"])])),_:2},1024)))),128))])),_:1},8,["onSlideChange","onSliderMove","onBeforeInit","modules"])],64)}var q=n(4870),E=n(2768),j=n(9638);const Z=e=>((0,s.dD)("data-v-6cd8941f"),e=e(),(0,s.Cn)(),e),W={class:"card"},V=["src"],Y={class:"card-infos"},F={class:"card-date"},K=Z((()=>(0,s._)("span",{class:"iconfont icon-clock"},null,-1))),G=(0,s.Uk)("  "),X={class:"tags"},Q={class:"card-title"},$={class:"card-bottom"},ee={class:"card-source"},te={class:"card-statistics"},ne=Z((()=>(0,s._)("span",{class:"iconfont icon-view"},null,-1))),ie=Z((()=>(0,s._)("span",{class:"iconfont icon-like-fill"},null,-1))),se=Z((()=>(0,s._)("span",{class:"iconfont icon-comment"},null,-1)));function ae(e,t,n,i,l,o){const r=(0,s.up)("timeago");return(0,s.wg)(),(0,s.iD)("div",W,[(0,s._)("img",{class:"card-image",src:n.bk_img?n.bk_img:"https://mdbcdn.b-cdn.net/img/new/fluid/city/018.webp"},null,8,V),(0,s._)("div",Y,[(0,s._)("div",F,[K,G,(0,s.Wm)(r,{datetime:n.created_at},null,8,["datetime"])]),(0,s._)("div",X,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(n.tags,((e,t)=>((0,s.wg)(),(0,s.iD)("span",{key:t,style:{"background-color":"#ff2d55"},class:"chip"},(0,a.zw)(e),1)))),128))]),(0,s._)("h2",Q,(0,a.zw)(n.title),1),(0,s._)("div",$,[(0,s._)("div",ee,[(0,s._)("div",null,"来源于 "+(0,a.zw)(n.source),1)]),(0,s._)("div",te,[ne,(0,s.Uk)((0,a.zw)(n.click_count)+" ",1),ie,(0,s.Uk)((0,a.zw)(n.like_count)+" ",1),se,(0,s.Uk)((0,a.zw)(n.comment_count),1)])])])])}var le={name:"NewsItem",data(){return{}},props:{source:String,title:String,tags:Array,created_at:String,click_count:Number,like_count:Number,comment_count:Number,bk_img:String}};const oe=(0,N.Z)(le,[["render",ae],["__scopeId","data-v-6cd8941f"]]);var re,ce,de,ue=oe,_e=n(3752),he=n.n(_e),ge={},pe={name:"newsView",components:{Swiper:E.tq,SwiperSlide:E.o5,NewsItem:ue,Loading:he()},setup(){var e=(0,q.iH)({});const t=(0,s.FN)(),{$store:n}=t.appContext.app.config.globalProperties,i=e=>{console.log("news slide change",e);var t=e.activeIndex;ge[re.selectedTabIndex]=e,console.log("newsSwiper",ge),t+5>e.slides.length&&re.fetchMore()},a=e=>{console.log("tab slide change",e),re.selectedTabIndex=e.activeIndex},l=()=>{n.dispatch("hide_Navbar"),clearTimeout(e),e=setTimeout((()=>{n.dispatch("show_Navbar")}),500)},o=e=>{ce=e},r=e=>{de=e};var c="";const d=e=>{!e.isBeginning||e.translate<=0?re.pullToRefreshText="":(c=re.pullToRefreshText,e.translate<70&&e.translate>20?re.pullToRefreshText="继续下拉":e.translate>70&&(re.pullToRefreshText="松开刷新"),c!=re.pullToRefreshText&&re.speek(re.pullToRefreshText,!0,!0))},u=e=>{e.translate>70&&(re.fetchNews(),re.speek("刷新",!0,!0))};return{modules:[j.LW,j.Rv],onNewsSlideChange:i,onTabSlideChange:a,onScroll:l,barInit:o,tabInit:r,pullHandler:d,refreshHandler:u}},data(){var e=["推荐","最新","科技","社会","数码","财经","娱乐","教育","体育","军事","历史"],t={};return e.forEach((e=>{t[e]={data:[],isEnd:!1}})),{tabItems:e,selectedTabIndex:0,newsArray:t,navBarHideTimeout:null,pullToRefreshText:"",isLoading:!1,isError:!1,fetchLimit:5,newsBroadcastTimeout:null}},methods:{...(0,f.nv)(["show_Navbar","hide_Navbar"]),speek(e,t,n){try{JS.speek(e,t,n)}catch(gn){console.log(e)}},longPressHandler(e){var t=this;return function(){console.log("long press",e),t.speek(e,!0,!0)}},getTabName(e,t="zh"){return"zh"==t?this.tabItems[e]:"en"==t?this.tabItemsEN[e]:void 0},getNewsList(e){return this.newsArray[this.getTabName(e)]["data"]},setNewsList(e,t){this.newsArray[this.getTabName(e)]["data"]=t},appendNewsList(e,t){var n=this.newsArray[this.getTabName(e)]["data"];t.forEach((e=>{var t=e.id;-1==n.findIndex((e=>e.id==t))&&n.push(e)})),this.newsArray[this.getTabName(e)]["data"]=n},fetchNews(){this.isLoading=!0;var e=new URLSearchParams,t=this.getTabName(this.selectedTabIndex);e.append("limit",this.fetchLimit),x(t,e).then((e=>{console.log(e),this.setNewsList(this.selectedTabIndex,e),this.isError=!1})).catch((e=>{this.isError=!0,console.log(e),re.speek("加载失败，点按刷新",!0,!0)})).finally((()=>{this.isLoading=!1}))},fetchMore(){var e=this.getNewsList(this.selectedTabIndex).length,t=new URLSearchParams,n=this.getTabName(this.selectedTabIndex);if(e>0){var i=this.getNewsList(this.selectedTabIndex)[e-1].created_at;t.append("offset",i)}t.append("limit",this.fetchLimit),x(n,t).then((e=>{console.log(e),e.length<this.fetchLimit&&(this.newsArray[this.getTabName(this.selectedTabIndex)]["isEnd"]=!0),this.appendNewsList(this.selectedTabIndex,e)})).catch((e=>{console.log(e)})).finally((()=>{}))},onTabClick(e){console.log(e),e!=this.selectedTabIndex?this.selectedTabIndex=e:ge[e].slideTo(0)}},mounted(){re=this,this.fetchNews()},watch:{selectedTabIndex(e){ce.slideTo(e),de.slideTo(e),0==this.getNewsList(e).length&&this.fetchNews(),this.speek(this.getTabName(e),!0,!0)}}};const me=(0,N.Z)(pe,[["render",J],["__scopeId","data-v-0b187455"]]);var we=me,ve={name:"HomeView",data(){return{last_scroll_top:0,navBarHideInterval:null}},components:{NewsView:we},methods:{}};const be=(0,N.Z)(ve,[["render",R],["__scopeId","data-v-eddb486a"]]);var fe=be,ke=n.p+"img/person.308b1466.svg",Se=n.p+"img/personal.f0607d7c.svg",ye=n.p+"img/arrow.fb108c7d.svg",Te=n.p+"img/settings.180441a8.svg",xe=n.p+"img/about.36bd48b9.svg";const Ae=e=>((0,s.dD)("data-v-8fcd29f2"),e=e(),(0,s.Cn)(),e),De={class:"frame"},Le=Ae((()=>(0,s._)("br",null,null,-1))),Ne=Ae((()=>(0,s._)("h2",null,"我的",-1))),He=Ae((()=>(0,s._)("br",null,null,-1))),Ie=Ae((()=>(0,s._)("br",null,null,-1))),Be={key:0,onclick:"JS.qqlogin()",style:{cursor:"pointer","text-align":"center",width:"25vw",margin:"0 auto"}},Ce=Ae((()=>(0,s._)("img",{style:{width:"100%"},src:ke},null,-1))),Re=Ae((()=>(0,s._)("span",{style:{display:"block"}},"未登录",-1))),Oe=[Ce,Re],Me={key:1,onclick:"JS.logout()",style:{cursor:"pointer","text-align":"center",width:"25vw",margin:"0 auto"}},Ue=["src"],Pe={style:{display:"block"}},ze=Ae((()=>(0,s._)("br",null,null,-1))),Je=Ae((()=>(0,s._)("br",null,null,-1))),qe={key:2,onclick:"JS.favorite()",class:"wode-item"},Ee=Ae((()=>(0,s._)("img",{src:Se},null,-1))),je=Ae((()=>(0,s._)("span",null,"我的收藏",-1))),Ze=Ae((()=>(0,s._)("img",{style:{"margin-left":"auto"},src:ye},null,-1))),We=[Ee,je,Ze],Ve=Ae((()=>(0,s._)("div",{onclick:"JS.settings()",class:"wode-item"},[(0,s._)("img",{src:Te}),(0,s._)("span",null,"设置"),(0,s._)("img",{style:{"margin-left":"auto"},src:ye})],-1))),Ye=Ae((()=>(0,s._)("div",{onclick:"JS.aboutus()",class:"wode-item"},[(0,s._)("img",{src:xe}),(0,s._)("span",null,"关于我们"),(0,s._)("img",{style:{"margin-left":"auto"},src:ye})],-1)));function Fe(e,t,n,i,l,o){return(0,s.wg)(),(0,s.iD)("div",De,[Le,Ne,He,Ie,o.loginState.logedin?((0,s.wg)(),(0,s.iD)("div",Me,[(0,s._)("img",{style:{width:"100%","border-radius":"10%"},src:o.get_avatar_url()},null,8,Ue),(0,s._)("span",Pe,(0,a.zw)(o.loginState.nickname),1)])):((0,s.wg)(),(0,s.iD)("div",Be,Oe)),ze,Je,o.loginState.logedin?((0,s.wg)(),(0,s.iD)("div",qe,We)):(0,s.kq)("",!0),Ve,Ye])}var Ke={name:"aboutView",data(){return{}},computed:{loginState:{get(){return this.$store.state.loginState},set(e){this.$store.commit("set_loginState",e)}}},methods:{...(0,f.nv)(["show_Navbar","hide_Navbar"]),get_avatar_url:function(){var e="https://aisee.idealbroker.cn",t="";try{e=JS.get_httpBaseUrl(),t=JS.get_token()}catch(gn){console.log(gn)}return e+"/user/avatar?token="+t}}};const Ge=(0,N.Z)(Ke,[["render",Fe],["__scopeId","data-v-8fcd29f2"]]);var Xe=Ge;const Qe=e=>((0,s.dD)("data-v-d36051c8"),e=e(),(0,s.Cn)(),e),$e={class:"frame"},et=Qe((()=>(0,s._)("br",null,null,-1))),tt=Qe((()=>(0,s._)("h2",null,"工具箱",-1))),nt=Qe((()=>(0,s._)("br",null,null,-1))),it=Qe((()=>(0,s._)("br",null,null,-1))),st=Qe((()=>(0,s._)("div",{class:"item",onclick:"JS.obj()",style:{background:"#2195f31c",color:"#2196f3"}},[(0,s._)("h3",null,"AI识物"),(0,s._)("div",null,"对取景框中的物体进行识别并提示用户 ")],-1))),at=Qe((()=>(0,s._)("div",{class:"item",onclick:"JS.ocr()",style:{background:"#ff980014",color:"#ff9800"}},[(0,s._)("h3",null,"AI读书"),(0,s._)("div",null,"通过OCR和TTS辅助阅读")],-1))),lt=[et,tt,nt,it,st,at];function ot(e,t){return(0,s.wg)(),(0,s.iD)("div",$e,lt)}const rt={},ct=(0,N.Z)(rt,[["render",ot],["__scopeId","data-v-d36051c8"]]);var dt=ct,ut=n.p+"img/search.cebd93e1.svg";const _t=e=>((0,s.dD)("data-v-1b909bbb"),e=e(),(0,s.Cn)(),e),ht=_t((()=>(0,s._)("br",null,null,-1))),gt=_t((()=>(0,s._)("h2",null,"搜索",-1))),pt=_t((()=>(0,s._)("br",null,null,-1))),mt=_t((()=>(0,s._)("br",null,null,-1))),wt={id:"search"},vt=_t((()=>(0,s._)("img",{src:ut,height:"60%",style:{display:"block"}},null,-1))),bt=[vt],ft=_t((()=>(0,s._)("br",null,null,-1))),kt={class:"block"},St={key:0},yt={key:0},Tt=_t((()=>(0,s._)("h3",null,"正在热搜",-1))),xt={class:"list no-hairlines trending-search"},At={class:"item-inner"},Dt={class:"item-title"},Lt=["onClick"],Nt={key:1},Ht=_t((()=>(0,s._)("h3",null,"大家都在看",-1))),It={class:"list no-hairlines trending-search"},Bt={class:"item-inner"},Ct={class:"item-title"},Rt=["onClick"],Ot={class:"two-columns-cards"},Mt=["onClick"],Ut={class:"card"},Pt=["src"],zt={key:1,class:"card-image",src:"https://xioyuna.com/envato/yui/demo/Yui/img/thumb-5.jpg"},Jt={class:"card-infos"},qt={class:"card-title"},Et={style:{height:"40px","line-height":"40px","font-size":"25px",padding:"20px"}},jt=_t((()=>(0,s._)("div",{style:{height:"80px",hidth:"100vw"}},null,-1)));function Zt(e,t,n,l,o,r){const c=(0,s.up)("loading"),d=(0,s.Q2)("touch");return(0,s.wg)(),(0,s.iD)("div",{class:"frame",onScrollPassive:t[2]||(t[2]=(...e)=>r.handleScroll&&r.handleScroll(...e))},[ht,gt,pt,mt,(0,s._)("div",wt,[(0,s.wy)((0,s._)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>o.searchfield=e),type:"text",placeholder:"在这里键入关键词"},null,512),[[i.nr,o.searchfield]]),(0,s._)("button",{onClick:t[1]||(t[1]=e=>r.search())},bt)]),(0,s.Wm)(c,{active:o.isLoading,"can-cancel":!1,"is-full-page":!1,opacity:.5},null,8,["active","opacity"]),ft,(0,s._)("div",kt,[o.resultShown?(0,s.kq)("",!0):((0,s.wg)(),(0,s.iD)("div",St,[o.trending.search.length?((0,s.wg)(),(0,s.iD)("div",yt,[Tt,(0,s._)("div",xt,[(0,s._)("ul",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.trending.search,((e,t)=>((0,s.wg)(),(0,s.iD)("li",{key:t,class:"item-content"},[(0,s._)("div",At,[(0,s._)("div",Dt,[(0,s._)("a",{class:"link",onClick:t=>r.doSearch(e)},(0,a.zw)(e),9,Lt)])])])))),128))])])])):((0,s.wg)(),(0,s.iD)("div",Nt,[Ht,(0,s._)("div",It,[(0,s._)("ul",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.trending.view,((e,t)=>((0,s.wg)(),(0,s.iD)("li",{key:t,class:"item-content"},[(0,s._)("div",Bt,[(0,s._)("div",Ct,[(0,s._)("a",{class:"link",onClick:t=>r.doSearch(e)},(0,a.zw)(e),9,Rt)])])])))),128))])])]))])),(0,s._)("div",Ot,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(o.resultList,(t=>(0,s.wy)(((0,s.wg)(),(0,s.iD)("a",{key:t.id,onClick:n=>e.$utils.showNewsDetail(t.id)},[(0,s._)("div",Ut,[t.bk_img?((0,s.wg)(),(0,s.iD)("img",{key:0,class:"card-image",src:t.bk_img},null,8,Pt)):((0,s.wg)(),(0,s.iD)("img",zt)),(0,s._)("div",Jt,[(0,s._)("h2",qt,(0,a.zw)(t.title),1)])])],8,Mt)),[[d,r.longPressHandler(t),"longtap"]]))),128))]),(0,s._)("div",Et,(0,a.zw)(o.bottomText),1),jt])],32)}var Wt={components:{Loading:he()},data(){return{searchfield:"",fetchLimit:20,resultList:[],isLoading:!1,bottomText:"",debounceTimer:null,isEnd:!1,resultShown:!1,trending:{view:[],search:[]}}},watch:{searchfield(e){0==e.length&&(this.resultShown=!1,this.resultList=[],this.isEnd=!1,this.bottomText="",this.getTrending())}},methods:{...(0,f.nv)(["show_Navbar","hide_Navbar"]),speek(e,t,n){try{JS.speek(e,t,n)}catch(gn){console.log(gn)}},longPressHandler(e){var t=this;return function(){console.log("long press",e),t.speek(e.title,!0,!0)}},handleScroll(e){e.target.scrollTop>0&&(this.hide_Navbar(),clearInterval(this.navBarHideInterval),this.navBarHideInterval=setInterval((()=>{this.show_Navbar()}),500)),this.isLoading||this.isEnd||!this.resultShown||e.target.scrollTop+e.target.clientHeight>=e.target.scrollHeight&&(clearTimeout(this.debounceTimer),this.bottomText="正在加载...",this.isLoading=!0,this.debounceTimer=setTimeout((()=>{this.fetchMore()}),500),console.log("滚动到底部"))},setResultList(e){e.length<this.fetchLimit?(this.bottomText="没有更多了",this.isEnd=!0):this.bottomText="",this.resultList=e},appendResultList(e){e.length<this.fetchLimit?(this.bottomText="没有更多了",this.isEnd=!0):this.bottomText="";var t=this.resultList;e.forEach((e=>{var n=e.id;-1==t.findIndex((e=>e.id==n))&&t.push(e)})),this.resultList=t},search(){if(0!=this.searchfield.length){this.isLoading=!0,this.bottomText="正在加载...",this.isEnd=!1,this.resultShown=!0;var e=new URLSearchParams;e.append("payload",this.searchfield),e.append("limit",this.fetchLimit),A(e).then((e=>{console.log(e),e.success?this.setResultList(e.data):this.bottomText=e.description})).finally((()=>{this.isLoading=!1}))}},fetchMore(){this.isEnd=!1;var e=new URLSearchParams;e.append("payload",this.searchfield),e.append("offset",this.resultList.length),e.append("limit",this.fetchLimit),A(e).then((e=>{console.log(e),e.success?this.appendResultList(e.data):this.bottomText=e.description})).finally((()=>{this.isLoading=!1}))},getTrending(){D().then((e=>{console.log(e),this.trending=e}))},doSearch(e){this.searchfield=e,this.search()}},mounted(){this.getTrending()}};const Vt=(0,N.Z)(Wt,[["render",Zt],["__scopeId","data-v-1b909bbb"]]);var Yt=Vt;const Ft=[{path:"/",name:"新闻",component:fe},{path:"/about",name:"我的",component:Xe},{path:"/toolbox",name:"工具箱",component:dt},{path:"/search",name:"搜索",component:Yt}],Kt=(0,B.p7)({history:(0,B.r5)(),routes:Ft});var Gt=!0;Kt.afterEach(((e,t)=>{console.log(e.name),Gt||JS.speek(e.name,!0,!0),Gt=!1}));var Xt=Kt,Qt=n(4239),$t=n(6038),en=n(3963),tn=n(6553),nn=n.n(tn),sn=n(9922);function an(e,t,n){try{JS.speek(e,t,n)}catch(gn){console.log(e)}}function ln(e){try{JS.toast(e)}catch(gn){console.log(e)}}function on(){var e;try{e=JS.get_token()}catch(gn){e="KpMP6U1nySvocbAWdtx4qhTZgHmFuVRi"}return e}function rn(e){try{JS.showNewsDetail(e)}catch(gn){location.href=`/newsviewer.html?id=${e}`,console.log(gn)}console.log(e)}function cn(){var e;try{e=JS.get_httpBaseUrl()}catch(gn){e="http://192.168.31.114:4000"}return e}function dn(){var e;try{e=JS.get_wsBaseUrl()}catch(gn){e="ws://192.168.31.114:4000"}return e}var un={speek:an,toast:ln,get_token:on,showNewsDetail:rn,get_http_base_url:cn,get_ws_base_url:dn};const _n={converterOptions:{includeSeconds:!1},locale:en.Z},hn=(0,i.ri)(I);hn.config.globalProperties.$utils=un,hn.use(Qt.Z).use(Xt).use($t.Z,_n).use(nn()).use(sn.Z).mount("#app")},4239:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){var vuex__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(8874);__webpack_exports__["Z"]=(0,vuex__WEBPACK_IMPORTED_MODULE_0__.MT)({state:{loginState:{logedin:!1,nickname:"",id:0},navBarHidden:!1,micServiceRunning:!1},getters:{},mutations:{set_loginState(e,t){e.loginState=t},set_navBarHidden(e,t){e.navBarHidden=t},set_micServiceRunning(e,t){e.micServiceRunning=t}},actions:{update_loginState(cxt){try{var t=eval("("+JS.get_loginState()+")");cxt.commit("set_loginState",t)}catch{return void console.log("JSbridge not found!")}},show_Navbar(e){e.commit("set_navBarHidden",!1)},hide_Navbar(e){e.commit("set_navBarHidden",!0)},update_micServiceState(cxt){try{var t=eval("("+JS.get_micServiceState()+")");cxt.commit("set_micServiceRunning",t)}catch{return void console.log("JSbridge not found!")}}},modules:{}})}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e].call(n.exports,n,n.exports,__webpack_require__),n.exports}__webpack_require__.m=__webpack_modules__,function(){var e=[];__webpack_require__.O=function(t,n,i,s){if(!n){var a=1/0;for(c=0;c<e.length;c++){n=e[c][0],i=e[c][1],s=e[c][2];for(var l=!0,o=0;o<n.length;o++)(!1&s||a>=s)&&Object.keys(__webpack_require__.O).every((function(e){return __webpack_require__.O[e](n[o])}))?n.splice(o--,1):(l=!1,s<a&&(a=s));if(l){e.splice(c--,1);var r=i();void 0!==r&&(t=r)}}return t}s=s||0;for(var c=e.length;c>0&&e[c-1][2]>s;c--)e[c]=e[c-1];e[c]=[n,i,s]}}(),function(){__webpack_require__.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return __webpack_require__.d(t,{a:t}),t}}(),function(){__webpack_require__.d=function(e,t){for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){__webpack_require__.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){__webpack_require__.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){__webpack_require__.j=826}(),function(){__webpack_require__.p=""}(),function(){var e={826:0};__webpack_require__.O.j=function(t){return 0===e[t]};var t=function(t,n){var i,s,a=n[0],l=n[1],o=n[2],r=0;if(a.some((function(t){return 0!==e[t]}))){for(i in l)__webpack_require__.o(l,i)&&(__webpack_require__.m[i]=l[i]);if(o)var c=o(__webpack_require__)}for(t&&t(n);r<a.length;r++)s=a[r],__webpack_require__.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return __webpack_require__.O(c)},n=self["webpackChunkaisee_ui"]=self["webpackChunkaisee_ui"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var __webpack_exports__=__webpack_require__.O(void 0,[998],(function(){return __webpack_require__(8637)}));__webpack_exports__=__webpack_require__.O(__webpack_exports__)})();
//# sourceMappingURL=index.e1062047.js.map